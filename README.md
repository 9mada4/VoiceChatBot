# VoiceChatBot

MacのChatGPTアプリを音声で操作するための自動化ツールです。

## 機能

- **音声入力の自動制御**: 右コマンドキー2回押しの自動化
- **音声入力状態の監視**: 音声入力のオン/オフ状態を検出・制御
- **返答の自動読み上げ**: macOS標準TTSでChatGPTの返答を読み上げ
- **連続対話**: 返答後に自動的に次の音声入力を待機

## 必要な環境

- macOS 10.14以降
- Python 3.9以降
- ChatGPTアプリ（Mac版）

## インストール

1. リポジトリをクローン:
```bash
git clone <repository-url>
cd VoiceChatBot
```

2. セットアップスクリプトを実行:
```bash
./setup.sh
```

## 事前設定

### 1. アクセシビリティ権限の付与
- システム環境設定 > セキュリティとプライバシー > プライバシー > アクセシビリティ
- ターミナル（またはこのアプリを実行するアプリ）にチェックを入れる

### 2. 音声入力の有効化
- システム環境設定 > キーボード > 音声入力
- 音声入力を「オン」にする
- ショートカットが「右コマンドキーを2回押す」になっていることを確認

### 3. ChatGPTアプリの準備
- ChatGPTアプリを起動
- チャット画面を開く

## 使用方法

```bash
python3 voice_chat_bot.py
```

### 操作フロー
1. アプリを起動
2. 音声入力が自動で開始される
3. 質問を音声で入力
4. ChatGPTの返答を自動で読み上げ
5. 自動的に次の音声入力待機状態になる
6. `Ctrl+C`で終了

## 主要な機能

### 音声入力制御
- `start_voice_input()`: 右コマンドキー2回押しの自動化
- `check_voice_input_status()`: 音声入力状態の監視
- `stop_voice_input()`: 音声入力の強制停止

### 返答処理
- `get_chatgpt_response()`: ChatGPTの返答取得（要実装）
- `speak_text()`: テキストの読み上げ

## 開発状況

### 実装済み
- ✅ 音声入力の自動起動・停止
- ✅ 音声入力状態の監視
- ✅ TTS読み上げ機能
- ✅ 基本的な制御フロー

### 開発中
- 🔄 ChatGPT返答の自動取得（Accessibility API）
- 🔄 返答完了の検出
- 🔄 エラーハンドリングの強化

### 予定
- 📋 設定ファイル対応
- 📋 ログ保存機能
- 📋 UI改善

## トラブルシューティング

### 音声入力が起動しない
- macOSの音声入力設定を確認
- アクセシビリティ権限が付与されているか確認

### 権限エラー
- システム環境設定でアクセシビリティ権限を再度確認
- ターミナルを再起動

### TTSが動作しない
- システムの音量設定を確認
- 他のアプリが音声を使用していないか確認

## ライセンス

MIT License

## 貢献

バグ報告や機能提案はIssueでお願いします。